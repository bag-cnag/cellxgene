version: "3.3"
services:
  cellxgene_dev:
    environment:
      - AWS_ACCESS_KEY_ID=test
      - AWS_SECRET_ACCESS_KEY=test
    build:
        context: .
        dockerfile: Dockerfile_dev
    ports:
        - 5005:5005
    tty: True
    
    volumes:
      - .:/cellxgene

    command: [ "cellxgene","launch","--host","0.0.0.0","-p","5005","example-dataset/pbmc3k.h5ad" ]